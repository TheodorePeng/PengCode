/*! For license information please see yt.js.LICENSE.txt */
(()=>{var e={591:(e,t,n)=>{var r=n(8).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,c="function"==typeof Symbol?Symbol:{},a=c.iterator||"@@iterator",s=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),c=new x(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var a=_(c,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,c),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f={};function g(){}function h(){}function y(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,E=v&&v(v(T([])));E&&E!==n&&i.call(E,a)&&(m=E);var S=y.prototype=g.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,c,a,s){var u=d(e[o],e,c);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==r(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(p).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=y,l(S,"constructor",y),l(y,"constructor",h),h.displayName=l(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var c=new w(p(e,n,r,o),i);return t.isGeneratorFunction(n)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},b(S),l(S,u,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=i.call(o,"catchLoc"),s=i.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},8:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},757:(e,t,n)=>{var r=n(591)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(e,t,n,r,o,i,c){try{var a=e[i](c),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(o,i){var c=t.apply(n,r);function a(t){e(c,o,i,a,s,"next",t)}function s(t){e(c,o,i,a,s,"throw",t)}a(void 0)}))}}var r=n(757),o=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return a.apply(this,arguments)}function a(){return(a=t(o().mark((function e(t){var n,r,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode(t),e.next=3,crypto.subtle.digest("SHA-1",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),c=i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return d.apply(this,arguments)}function d(){return d=t(o().mark((function e(t){var n,r,i,a,u,p,d,f=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:"",r=f.length>2&&void 0!==f[2]?f[2]:ytcfg.INNERTUBE_CONTEXT_HL,i=f.length>3&&void 0!==f[3]?f[3]:"",a=Math.floor((new Date).getTime()/1e3),u=void 0===s("SAPISID")?s("__Secure-3PAPISID"):s("SAPISID"),e.next=7,c(a+" "+u+" https://www.youtube.com");case 7:return p=e.sent,d={},""!==ytcfg.DELEGATED_SESSION_ID&&(d["x-goog-pageid"]=ytcfg.DELEGATED_SESSION_ID),e.abrupt("return",fetch("https://www.youtube.com/youtubei/v1/browse?key=".concat(ytcfg.INNERTUBE_API_KEY),{credentials:"include",headers:l(l({},d),{},{accept:"*/*","accept-language":ytcfg.accept_language,"cache-control":"no-cache",pragma:"no-cache",authorization:"SAPISIDHASH "+a+"_"+p,"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-goog-authuser":ytcfg.SESSION_INDEX,"x-goog-visitor-id":ytcfg.visitorData,"x-spf-previous":"https://www.youtube.com/","x-spf-referer":"https://www.youtube.com/","x-youtube-client-name":ytcfg.INNERTUBE_CONTEXT_CLIENT_NAME,"x-youtube-client-version":ytcfg.INNERTUBE_CONTEXT_CLIENT_VERSION,"x-youtube-device":ytcfg.DEVICE,"x-youtube-identity-token":ytcfg.ID_TOKEN,"x-youtube-page-cl":ytcfg.PAGE_CL,"x-youtube-page-label":ytcfg.PAGE_BUILD_LABEL}),referrer:"https://www.youtube.com/",referrerPolicy:"origin-when-cross-origin",body:"{".concat(i?'"continuation":"'+i+'",':"",'"context":{"client":{"clientName":"').concat(ytcfg.INNERTUBE_CONTEXT_CLIENT_NAME,'","hl":"').concat(r,'","gl":"').concat(ytcfg.INNERTUBE_CONTEXT_GL,'","clientVersion":"').concat(ytcfg.INNERTUBE_CONTEXT_CLIENT_VERSION,'"},"request":{"internalExperimentFlags":[],"consistencyTokenJars":[]}},"browseId":"').concat(t,'","params":"').concat(n,'"}'),method:"POST",mode:"cors"}));case 11:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=t(o().mark((function e(t){var n,r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Math.floor((new Date).getTime()/1e3),r=void 0===s("SAPISID")?s("__Secure-3PAPISID"):s("SAPISID"),e.next=4,c(n+" "+r+" https://www.youtube.com");case 4:return i=e.sent,a="https://www.youtube.com/youtubei/v1/next?key=".concat(ytcfg.INNERTUBE_API_KEY),u={credentials:"include",headers:{accept:"*/*","content-type":"application/json","accept-language":ytcfg.accept_language,"cache-control":"no-cache",authorization:"SAPISIDHASH "+n+"_"+i,pragma:"no-cache","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-goog-authuser":ytcfg.SESSION_INDEX,"x-goog-visitor-id":ytcfg.visitorData,"x-origin":"https://www.youtube.com"},referrer:"https://www.youtube.com/",referrerPolicy:"origin-when-cross-origin",body:'{"context":{"client":{"clientName":"'.concat(ytcfg.INNERTUBE_CONTEXT_CLIENT_NAME,'","hl":"').concat(ytcfg.INNERTUBE_CONTEXT_HL,'","gl":"').concat(ytcfg.INNERTUBE_CONTEXT_GL,'","clientVersion":"').concat(ytcfg.INNERTUBE_CONTEXT_CLIENT_VERSION,'"},').concat(""!==ytcfg.DELEGATED_SESSION_ID?'"user":{"onBehalfOfUser":"'+ytcfg.DELEGATED_SESSION_ID+'"},':"",'"request":{"internalExperimentFlags":[],"consistencyTokenJars":[]}},"videoId":"').concat(t,'"}'),method:"POST",mode:"cors"},e.abrupt("return",fetch(a,u));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return y.apply(this,arguments)}function y(){return(y=t(o().mark((function e(){var t,n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://www.youtube.com/youtubei/v1/get_transcript?key=".concat(ytcfg.INNERTUBE_API_KEY,"&prettyPrint=false"),n=Math.floor((new Date).getTime()/1e3),r=void 0===s("SAPISID")?s("__Secure-3PAPISID"):s("SAPISID"),e.next=5,c(n+" "+r+" https://www.youtube.com");case 5:return i=e.sent,a={credentials:"include",referrer:"https://www.youtube.com/",referrerPolicy:"origin-when-cross-origin",headers:{accept:"*/*","content-type":"application/json","accept-language":ytcfg.accept_language,"cache-control":"no-cache",authorization:"SAPISIDHASH "+n+"_"+i,pragma:"no-cache","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-goog-authuser":ytcfg.SESSION_INDEX,"x-goog-visitor-id":ytcfg.visitorData,"x-origin":"https://www.youtube.com"},body:'{"context":{"client":{"clientName":"'.concat(ytcfg.INNERTUBE_CONTEXT_CLIENT_NAME,'","hl":"').concat(ytcfg.INNERTUBE_CONTEXT_HL,'","gl":"').concat(ytcfg.INNERTUBE_CONTEXT_GL,'","clientVersion":"').concat(ytcfg.INNERTUBE_CONTEXT_CLIENT_VERSION,'"},').concat(""!==ytcfg.DELEGATED_SESSION_ID?'"user":{"onBehalfOfUser":"'+ytcfg.DELEGATED_SESSION_ID+'"},':"",'"request":{"internalExperimentFlags":[],"consistencyTokenJars":[]}},"params":"').concat(activeTranscriptApiParams,'"}'),method:"POST",mode:"cors"},e.abrupt("return",fetch(t,a));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return v.apply(this,arguments)}function v(){return(v=t(o().mark((function e(t,n){var r,i,a,u,l,p,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n<5e3&&(n=5e3),n>6e4&&(n=6e4),r="https://www.youtube.com/youtubei/v1/backstage/create_post?key=".concat(ytcfg.INNERTUBE_API_KEY,"&prettyPrint=false"),i=Math.floor((new Date).getTime()/1e3),a=void 0===s("SAPISID")?s("__Secure-3PAPISID"):s("SAPISID"),e.next=7,c(i+" "+a+" https://www.youtube.com");case 7:return u=e.sent,l=new URL(location.href).searchParams,p=l.get("v")||"",d={credentials:"include",referrer:"https://www.youtube.com/",referrerPolicy:"origin-when-cross-origin",headers:{accept:"*/*","content-type":"application/json","accept-language":ytcfg.accept_language,"cache-control":"no-cache",authorization:"SAPISIDHASH "+i+"_"+u,pragma:"no-cache","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-goog-authuser":ytcfg.SESSION_INDEX,"x-goog-visitor-id":ytcfg.visitorData,"x-origin":"https://www.youtube.com"},body:'{"context":{"client":{"clientName":"'.concat(ytcfg.INNERTUBE_CONTEXT_CLIENT_NAME,'","hl":"').concat(ytcfg.INNERTUBE_CONTEXT_HL,'","gl":"').concat(ytcfg.INNERTUBE_CONTEXT_GL,'","clientVersion":"').concat(ytcfg.INNERTUBE_CONTEXT_CLIENT_VERSION,'"},').concat(""!==ytcfg.DELEGATED_SESSION_ID?'"user":{"onBehalfOfUser":"'+ytcfg.DELEGATED_SESSION_ID+'"},':"",'"request":{"internalExperimentFlags":[],"consistencyTokenJars":[]}},"createBackstagePostParams":"').concat(activeCreateBackstagePostParams,'","commentText":"Snipo clip","clipAttachment":{"externalVideoId":"').concat(p,'","offsetMs":"').concat(t,'","durationMs":"').concat(n,'"}}'),method:"POST",mode:"cors"},e.abrupt("return",fetch(r,d));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return S.apply(this,arguments)}function S(){return(S=t(o().mark((function e(t){var n,r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://www.youtube.com/youtubei/v1/share/get_share_panel?key=".concat(ytcfg.INNERTUBE_API_KEY,"&prettyPrint=false"),r=Math.floor((new Date).getTime()/1e3),i=void 0===s("SAPISID")?s("__Secure-3PAPISID"):s("SAPISID"),e.next=5,c(r+" "+i+" https://www.youtube.com");case 5:return a=e.sent,u={credentials:"include",referrer:"https://www.youtube.com/",referrerPolicy:"origin-when-cross-origin",headers:{accept:"*/*","content-type":"application/json","accept-language":ytcfg.accept_language,"cache-control":"no-cache",authorization:"SAPISIDHASH "+r+"_"+a,pragma:"no-cache","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-goog-authuser":ytcfg.SESSION_INDEX,"x-goog-visitor-id":ytcfg.visitorData,"x-origin":"https://www.youtube.com"},body:'{"context":{"client":{"clientName":"'.concat(ytcfg.INNERTUBE_CONTEXT_CLIENT_NAME,'","hl":"').concat(ytcfg.INNERTUBE_CONTEXT_HL,'","gl":"').concat(ytcfg.INNERTUBE_CONTEXT_GL,'","clientVersion":"').concat(ytcfg.INNERTUBE_CONTEXT_CLIENT_VERSION,'"},').concat(""!==ytcfg.DELEGATED_SESSION_ID?'"user":{"onBehalfOfUser":"'+ytcfg.DELEGATED_SESSION_ID+'"},':"",'"request":{"internalExperimentFlags":[],"consistencyTokenJars":[]}},"serializedSharedEntity":"').concat(t,'"}'),method:"POST",mode:"cors"},e.abrupt("return",fetch(n,u));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}new MutationObserver((function(e){e.forEach(function(){var e=t(o().mark((function e(t){var n,r,i,c,a,s,u,l,d,g,y,v,S,w,_,N,I,x,T,P,O,A,R,L,D,k,B,C,j,U,q,M,G,X,H,J,V,F,z,Y,K,$,Q,W,Z,ee,te,ne,re,oe,ie,ce,ae,se,ue,le,pe,de,fe,ge,he,ye,me,ve,Ee,Se,be,we,_e,Ne,Ie,xe,Te,Pe,Oe,Ae,Re,Le,De,ke,Be,Ce,je,Ue,qe,Me,Ge,Xe,He,Je,Ve,Fe,ze,Ye,Ke,$e,Qe,We,Ze,et,tt,nt,rt,ot,it,ct,at,st,ut,lt,pt,dt,ft,gt,ht,yt,mt,vt,Et,St,bt,wt,_t,Nt;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(["snipo-fetch-options"].includes(t.attributeName)){e.next=2;break}return e.abrupt("return");case 2:if("get_playlist_data"!==document.querySelector("html").getAttribute("snipo-fetch-options")){e.next=32;break}return n=JSON.parse(document.querySelector("html").getAttribute("snipo-playlist-data")),ytcfg=n.ytcfg,r=n.browseId,i=n.videoId,e.next=9,p(r);case 9:return c=e.sent,e.next=12,c.json();case 12:return a=e.sent,e.next=15,f(i,!0);case 15:return s=e.sent,e.next=18,s.json();case 18:u=e.sent,l=b((null==u?void 0:u.engagementPanels)||[]);try{for(l.s();!(d=l.n()).done;)"engagement-panel-searchable-transcript"==(null==(v=d.value)||null===(g=v.engagementPanelSectionListRenderer)||void 0===g?void 0:g.panelIdentifier)&&document.querySelector("html").setAttribute("snipo-active-transcript-api",null==v||null===(S=v.engagementPanelSectionListRenderer)||void 0===S||null===(w=S.content)||void 0===w||null===(_=w.continuationItemRenderer)||void 0===_||null===(N=_.continuationEndpoint)||void 0===N||null===(I=N.getTranscriptEndpoint)||void 0===I?void 0:I.params),"engagement-panel-clip-create"==(null==v||null===(y=v.engagementPanelSectionListRenderer)||void 0===y?void 0:y.panelIdentifier)&&document.querySelector("html").setAttribute("snipo-active-backstage-api",null==v||null===(x=v.engagementPanelSectionListRenderer)||void 0===x||null===(T=x.content)||void 0===T||null===(P=T.clipSectionRenderer)||void 0===P||null===(O=P.contents[0])||void 0===O||null===(A=O.clipCreationRenderer)||void 0===A||null===(R=A.saveButton)||void 0===R||null===(L=R.buttonRenderer)||void 0===L||null===(D=L.command)||void 0===D||null===(k=D.createBackstagePostEndpoint)||void 0===k?void 0:k.createBackstagePostParams)}catch(e){l.e(e)}finally{l.f()}if(document.querySelector("html").setAttribute("snipo-playlist-response",JSON.stringify({playlistData:a,videoData:u})),null!=document.querySelector("html").getAttribute("snipo-active-backstage-api")){e.next=31;break}return e.next=25,f("ytSLVs-Gxrk");case 25:return B=e.sent,e.next=28,B.json();case 28:C=e.sent,j=b((null==C?void 0:C.engagementPanels)||[]);try{for(j.s();!(U=j.n()).done;)"engagement-panel-clip-create"==(null==(M=U.value)||null===(q=M.engagementPanelSectionListRenderer)||void 0===q?void 0:q.panelIdentifier)&&document.querySelector("html").setAttribute("snipo-active-backstage-api",null==M||null===(G=M.engagementPanelSectionListRenderer)||void 0===G||null===(X=G.content)||void 0===X||null===(H=X.clipSectionRenderer)||void 0===H||null===(J=H.contents[0])||void 0===J||null===(V=J.clipCreationRenderer)||void 0===V||null===(F=V.saveButton)||void 0===F||null===(z=F.buttonRenderer)||void 0===z||null===(Y=z.command)||void 0===Y||null===(K=Y.createBackstagePostEndpoint)||void 0===K?void 0:K.createBackstagePostParams)}catch(e){j.e(e)}finally{j.f()}case 31:return e.abrupt("return");case 32:if("get_video_data"!==document.querySelector("html").getAttribute("snipo-fetch-options")){e.next=56;break}return $=JSON.parse(document.querySelector("html").getAttribute("snipo-video-data")),ytcfg=$.ytcfg,Q=$.videoId,e.next=38,f(Q);case 38:return W=e.sent,e.next=41,W.json();case 41:Z=e.sent,ee=b((null==Z?void 0:Z.engagementPanels)||[]);try{for(ee.s();!(te=ee.n()).done;)"engagement-panel-searchable-transcript"==(null==(oe=te.value)||null===(ne=oe.engagementPanelSectionListRenderer)||void 0===ne?void 0:ne.panelIdentifier)&&document.querySelector("html").setAttribute("snipo-active-transcript-api",null==oe||null===(ie=oe.engagementPanelSectionListRenderer)||void 0===ie||null===(ce=ie.content)||void 0===ce||null===(ae=ce.continuationItemRenderer)||void 0===ae||null===(se=ae.continuationEndpoint)||void 0===se||null===(ue=se.getTranscriptEndpoint)||void 0===ue?void 0:ue.params),"engagement-panel-clip-create"==(null==oe||null===(re=oe.engagementPanelSectionListRenderer)||void 0===re?void 0:re.panelIdentifier)&&document.querySelector("html").setAttribute("snipo-active-backstage-api",null==oe||null===(le=oe.engagementPanelSectionListRenderer)||void 0===le||null===(pe=le.content)||void 0===pe||null===(de=pe.clipSectionRenderer)||void 0===de||null===(fe=de.contents[0])||void 0===fe||null===(ge=fe.clipCreationRenderer)||void 0===ge||null===(he=ge.saveButton)||void 0===he||null===(ye=he.buttonRenderer)||void 0===ye||null===(me=ye.command)||void 0===me||null===(ve=me.createBackstagePostEndpoint)||void 0===ve?void 0:ve.createBackstagePostParams)}catch(e){ee.e(e)}finally{ee.f()}if(document.querySelector("html").setAttribute("snipo-video-response",JSON.stringify(Z)),null!=document.querySelector("html").getAttribute("snipo-active-backstage-api")){e.next=54;break}return e.next=48,f("ytSLVs-Gxrk");case 48:return Ee=e.sent,e.next=51,Ee.json();case 51:Se=e.sent,be=b((null==Se?void 0:Se.engagementPanels)||[]);try{for(be.s();!(we=be.n()).done;)"engagement-panel-clip-create"==(null==(Ne=we.value)||null===(_e=Ne.engagementPanelSectionListRenderer)||void 0===_e?void 0:_e.panelIdentifier)&&document.querySelector("html").setAttribute("snipo-active-backstage-api",null==Ne||null===(Ie=Ne.engagementPanelSectionListRenderer)||void 0===Ie||null===(xe=Ie.content)||void 0===xe||null===(Te=xe.clipSectionRenderer)||void 0===Te||null===(Pe=Te.contents[0])||void 0===Pe||null===(Oe=Pe.clipCreationRenderer)||void 0===Oe||null===(Ae=Oe.saveButton)||void 0===Ae||null===(Re=Ae.buttonRenderer)||void 0===Re||null===(Le=Re.command)||void 0===Le||null===(De=Le.createBackstagePostEndpoint)||void 0===De?void 0:De.createBackstagePostParams)}catch(e){be.e(e)}finally{be.f()}case 54:return document.querySelector("html").setAttribute("snipo-video-response",JSON.stringify(Z)),e.abrupt("return");case 56:if("snipo_video_clip"!==document.querySelector("html").getAttribute("snipo-fetch-options")){e.next=79;break}return ke=JSON.parse(document.querySelector("html").getAttribute("snipo-video-clip")),ytcfg=ke.ytcfg,window.activeCreateBackstagePostParams=document.querySelector("html").getAttribute("snipo-active-backstage-api"),e.next=62,m(ke.startRangeRecord,ke.durationSec);case 62:return Be=e.sent,e.next=65,Be.json();case 65:return Ce=e.sent,e.next=68,E(Ce.actions[0].shareEntityServiceEndpoint.serializedShareEntity);case 68:return je=e.sent,e.next=71,je.json();case 71:return Ue=e.sent,(qe=new URL(location.href)).searchParams.delete("t"),qe.hash="",document.querySelector("html").setAttribute("snipo-clip-response",JSON.stringify({clipUrl:Ue.actions[0].openPopupAction.popup.unifiedSharePanelRenderer.contents[0].thirdPartyNetworkSection.copyLinkContainer.copyLinkRenderer.shortUrl,link:qe.href,startTime:document.documentElement.querySelector('[role="main"] video').currentTime})),document.querySelector(".snipo-recording").remove(),document.documentElement.querySelector('[role="main"] .ytp-chrome-bottom').style.visibility="visible",e.abrupt("return");case 79:if("get_transcript"!==document.querySelector("html").getAttribute("snipo-fetch-options")){e.next=105;break}return Me=JSON.parse(document.querySelector("html").getAttribute("snipo-video-transcript")),ytcfg=Me.ytcfg,window.activeTranscriptApiParams=document.querySelector("html").getAttribute("snipo-active-transcript-api"),e.next=85,h();case 85:return Ge=e.sent,e.next=88,Ge.json();case 88:for(We in Xe=e.sent,He=Xe.actions[0].updateEngagementPanelAction.content.transcriptRenderer.content.transcriptSearchPanelRenderer.body.transcriptSegmentListRenderer.initialSegments,Je=[],He.forEach((function(e){"transcriptSegmentRenderer"in e&&Je.push({startMs:e.transcriptSegmentRenderer.startMs,endMs:e.transcriptSegmentRenderer.endMs,startTimeText:e.transcriptSegmentRenderer.startTimeText.simpleText,text:e.transcriptSegmentRenderer.snippet.runs?e.transcriptSegmentRenderer.snippet.runs[0].text:""})})),Ve=document.documentElement.querySelector('[role="main"] video').currentTime,Fe=Math.floor(Ve),ze=1e3*(Fe-1),Ye=1e3*(Fe+30),Ke=Je.filter((function(e){return ze<=e.startMs&&e.endMs<=Ye})),$e=0,Qe="",Ke)0===$e&&($e=Ke[We].startMs),Qe+=Ke[We].text.replaceAll("\n\n"," ").replaceAll("\n"," ")+" ";return(Ze=new URL(location.href)).searchParams.delete("t"),Ze.hash="",document.querySelector("html").setAttribute("snipo-transcript-response",JSON.stringify({transcriptText:Qe,link:Ze.href,startTime:$e/1e3})),e.abrupt("return");case 105:if("get_flashcards"!==document.querySelector("html").getAttribute("snipo-fetch-options")){e.next=140;break}return et=JSON.parse(document.querySelector("html").getAttribute("snipo-video-transcript")),ytcfg=et.ytcfg,tt=new URL(location.href).searchParams,nt=tt.get("v")||"",e.next=112,f(nt);case 112:return rt=e.sent,e.next=115,rt.json();case 115:ot=e.sent,it=b((null==ot?void 0:ot.engagementPanels)||[]);try{for(it.s();!(ct=it.n()).done;)"engagement-panel-searchable-transcript"==(null==(st=ct.value)||null===(at=st.engagementPanelSectionListRenderer)||void 0===at?void 0:at.panelIdentifier)&&(window.activeTranscriptApiParams=null==st||null===(ut=st.engagementPanelSectionListRenderer)||void 0===ut||null===(lt=ut.content)||void 0===lt||null===(pt=lt.continuationItemRenderer)||void 0===pt||null===(dt=pt.continuationEndpoint)||void 0===dt||null===(ft=dt.getTranscriptEndpoint)||void 0===ft?void 0:ft.params)}catch(e){it.e(e)}finally{it.f()}if(window.activeTranscriptApiParams){e.next=120;break}return e.abrupt("return");case 120:return e.next=122,h();case 122:return gt=e.sent,e.next=125,gt.json();case 125:for(_t in ht=e.sent,yt=ht.actions[0].updateEngagementPanelAction.content.transcriptRenderer.content.transcriptSearchPanelRenderer.body.transcriptSegmentListRenderer.initialSegments,mt=[],yt.forEach((function(e){"transcriptSegmentRenderer"in e&&mt.push({startMs:e.transcriptSegmentRenderer.startMs,endMs:e.transcriptSegmentRenderer.endMs,startTimeText:e.transcriptSegmentRenderer.startTimeText.simpleText,text:e.transcriptSegmentRenderer.snippet.runs?e.transcriptSegmentRenderer.snippet.runs[0].text:""})})),vt=et.startRange,Et=et.endRange,St=mt.filter((function(e){return vt<=e.startMs&&(-1===Et||e.endMs<=Et)})),bt=0,wt="",St)0===bt&&(bt=St[_t].startMs),wt+=St[_t].text.replaceAll("\n\n"," ").replaceAll("\n"," ")+" ";return(Nt=new URL(location.href)).searchParams.delete("t"),Nt.hash="",document.querySelector("html").setAttribute("snipo-transcript-response-flashcards",JSON.stringify({transcriptText:wt})),e.abrupt("return");case 140:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).observe(document.querySelector("html"),{attributes:!0})})()})();