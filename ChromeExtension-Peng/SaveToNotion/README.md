# SavePage - 保存网页到Notion

SavePage是一个Chrome浏览器扩展，允许用户将当前浏览的网页保存到Notion数据库中，同时防止重复添加相同的网页。

## 功能特点

- 一键将当前浏览的网页保存到Notion数据库
- 自动提取网页标题、URL、描述和封面图片
- 支持将网页封面图片设置为Notion页面封面
- 防止重复添加相同的网页
- 自动识别并适配Notion数据库的属性结构
- 支持自定义属性映射与显示/隐藏控制
- 支持为每个属性选择适当的网页数据源
- 记住用户的属性映射和显示偏好
- 支持设置默认数据库

## 安装方法

### 开发者模式安装

1. 下载本项目的zip文件或克隆仓库到本地
2. 打开Chrome浏览器，进入扩展程序页面（chrome://extensions/）
3. 开启"开发者模式"（右上角开关）
4. 点击"加载已解压的扩展程序"按钮
5. 选择本项目的文件夹
6. 完成安装，扩展程序图标将显示在浏览器工具栏中

## 使用说明

### 首次使用设置

1. 点击浏览器工具栏中的SavePage图标
2. 在弹出的设置窗口中，输入Notion API令牌
   - 在Notion的[我的集成](https://www.notion.so/my-integrations)页面创建一个新的集成以获取API令牌
   - 确保将集成添加到您的Notion数据库中
3. （可选）输入默认Notion数据库ID
   - 数据库ID可以从Notion数据库页面的URL中获取
4. 点击"保存"按钮完成设置

### 保存网页到Notion

1. 浏览您想要保存的网页
2. 点击浏览器工具栏中的SavePage图标或在页面上右键点击并选择"保存到Notion"
3. 在弹出的保存窗口中：
   - 确认或输入Notion数据库ID
   - 如果检测到页面封面图片，可选择是否将其设置为Notion页面封面
   - 自定义属性映射：
     - 使用"全部显示"或"全部隐藏"按钮快速控制属性显示
     - 使用复选框单独控制每个属性的显示/隐藏状态
     - 为每个属性选择合适的数据源（网页标题/URL/描述/域名/时间）
   - 点击"保存"按钮

### 属性映射功能说明

- **选择显示的属性**：控制面板中可以切换哪些属性需要显示/隐藏
- **属性数据源**：每个属性右上角的下拉菜单可选择自动填充数据的来源
- **用户偏好记忆**：系统会记住您的属性显示/隐藏状态和数据映射选择
- **强制标题显示**：为确保Notion页面创建成功，标题类型属性至少保留一个

### 特别提示

- 首次使用前，请确保已在Notion中创建好数据库
- 您需要将Notion集成添加到您的数据库中，以授权API访问
- 数据库需要至少有标题、URL等基本属性
- 如果您更改了Notion数据库结构，扩展会自动适配新结构

## 隐私说明

- 本扩展程序不会收集或上传您的个人数据
- 您的Notion API令牌仅存储在本地浏览器中
- 所有数据传输仅在您的浏览器与Notion API之间进行
- 您的属性映射偏好设置仅保存在本地浏览器中